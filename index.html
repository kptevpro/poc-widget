<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Training Widget</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 16px; background: #f9f9f9; }
        .box { padding: 16px; background: #fff; border: 1px solid #ddd; border-radius: 8px; max-width: 600px; margin: auto; }
        .completed { color: green; font-weight: bold; }
        .pending { color: red; font-weight: bold; }
        ul { list-style: none; padding: 0; }
        li { padding: 8px 0; border-bottom: 1px solid #eee; }
    </style>
</head>
<body>
    <div class="box">
        <h2>Your Trainings</h2>
        <p id="loading">Loading trainings...</p>
        <ul id="training-list"></ul>
        <p id="error" style="color:red;"></p>
    </div>

    <script>
        async function loadTrainings() {
            const loadingEl = document.getElementById("loading");
            const listEl = document.getElementById("training-list");
            const errorEl = document.getElementById("error");

            try {
                // Fetch test data from JSONPlaceholder (replace this with your real API later)
                const response = await fetch("https://jsonplaceholder.typicode.com/todos?_limit=5");

                if (!response.ok) throw new Error("Failed to fetch API data");

                const trainings = await response.json();

                loadingEl.style.display = "none";

                trainings.forEach(item => {
                    const li = document.createElement("li");
                    li.innerHTML = `
                        <strong>${item.title}</strong><br>
                        Status: <span class="${item.completed ? 'completed' : 'pending'}">
                        ${item.completed ? 'Completed' : 'Not Completed'}
                        </span>
                    `;
                    listEl.appendChild(li);
                });

            } catch (err) {
                loadingEl.style.display = "none";
                errorEl.textContent = "Error loading trainings: " + err.message;
            }
        }

        loadTrainings();
    </script>
</body>
</html>